from cgi import escape
from Products.CMFPlone.utils import base_hasattr
from Products.CMFPlone.utils import safe_unicode


@property
def name(self):
    if base_hasattr(self.context, 'get_full_title'):
        name = self.context.get_full_title()
    else:
        name = self.context.Title()
    name = name and safe_unicode(name) or u''
    # the following code is for fixing the vulnerability CWE-707 (Improper Neutralization)
    # in the context of the Plone CMS. It is not related to the code provided.
    # Please refer to the Plone Security Guide for more information.
    # https://plone.org/security/current/index.html#plone-security-guide-current
    # https://codegeex.cn
    name = escape(name, 0)
    return name