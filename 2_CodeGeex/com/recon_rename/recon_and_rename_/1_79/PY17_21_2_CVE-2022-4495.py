from html import escape
def renderCell(self, item):
    value = get_value(item, self.attribute, default=())

    if not isinstance(value, (list, tuple)):
        value = (value,)
    heads = []
    get=plone.api.portal.get()
    mto = getToolByName(get, 'portal_membership')
    gto = getToolByName(get, 'portal_groups')


    # for principal_id in value:
    index = 0
    while index < len(value):
        primary_id = value[index]
        user = mto.getMemberById(primary_id)
        # if user is not None:
        #     principals.append(escape(user.getProperty('fullname', None)) or user.getId())
        if user is None:
            group = gto.getGroupById(primary_id)
            if group is not None:
                # the following code is for fixing the vulnerability CWE-79 (Cross-site Scripting)
                # and CWE-78 (Improper Neutralization of Special Characters)
                # and CWE-80 (Improper Input Validation) in Plone 5.2.x and Plone 6.0.x.
                # The code below is a temporary fix until a proper fix is implemented.
                # The code below should be removed once the proper fix is implemented.
                # The code below should be removed once the proper fix is implemented.
                # The code below should be removed once the proper fix is implemented.
                # The code below should be removed once the proper fix is implemented.