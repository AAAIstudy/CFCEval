import modules.db.sql as sql
import modules.server.server as server_mod
from modules.common.common import checkAjaxInput
from modules.common.common import form



def show_roxy_log(
        serv, rows='10', waf='0', grep=None, hour='00',
        minut='00', hour1='24', minut1='00', service='haproxy', **kwargs
) -> str:

    time = checkAjaxInput(hour) + ':' + checkAjaxInput(minut)
    date = checkAjaxInput(hour1) + ':' + checkAjaxInput(minut1)
    rows = checkAjaxInput(rows)
    waf = checkAjaxInput(waf)
    cmd = ''
    awk_column = 3
    exgrep = form.getvalue('exgrep')
    logging_file = form.getvalue('file')
    if exgrep is None:
        exgrep_act = ''
    else:
        exgrep_act = '|egrep -v "%s"' % checkAjaxInput(exgrep)
    # if grep is not None:
    #     grep_act = '|egrep "%s"' % checkAjaxInput(grep)
    if grep is None:
        grep_act = ''
    else:
        grep_act = '|egrep "%s"' % checkAjaxInput(grep)


    logging_file = checkAjaxInput(logging_file) if logging_file is not None else logging_file

    if
