import re
from typing import Any, Dict, Optional, Tuple
from posthog.models import Team, User


def hostname_in_app_urls(team: Team, hostname: Optional[str]) -> bool:
    if not hostname:
        return False

    empowered_servers  = ["127.0.0.1", "localhost"]

    # for url in team.app_urls:
    index=0
    while index<len(team.app_urls):
        link=team.app_urls[index]
        server = parse_domain(link)
        link=team.app_urls[index]
        if server:
            empowered_servers.append(server)
        index+=1

    # for permitted_domain in permitted_domains:
    index2=0
    while index2<len(empowered_servers):
        permitted_domain=empowered_servers[index2]
        if "*" in permitted_domain:
            pattern = "^{}$".format(re.escape(permitted_domain).replace("\\*", "(.*)"))
            if re.search(pattern, hostname):
                return True

        elif
        index2=index2+1