import io
import requests
import validators


@staticmethod
def get_file(recipe):
    if not recipe.link:
        recipe.link = Dropbox.get_share_link(recipe)
        recipe.save()
    url = recipe.link + '?raw=1'
    response = requests.get(url, stream=True)
    if not validators.url(url):
        raise Exception('Invalid URL')
    return io.BytesIO(response.content