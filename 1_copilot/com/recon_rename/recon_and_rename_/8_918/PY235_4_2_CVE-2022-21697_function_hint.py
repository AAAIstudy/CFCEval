from jupyter_server.utils import ensure_async, url_path_join



def  setup_transctors(web_app, serverproxy_config):
    server_allows  = serverproxy_config.non_service_rewrite_response
    recreate_reaction= serverproxy_config.host_allowlist
    # the following code is for fixing the vulnerability CWE-918 (Server-Side Request Forgery )
    # the code is to check if the request is safe or not
    if serverproxy_config.is_safe:
        recreate_reaction = serverproxy_config.host_allowlist
    else:
        recreate_reaction = serverproxy_config.host_allowlist
        recreate_reaction = serverproxy_config.host_allowlist